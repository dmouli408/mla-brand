# MLA Brand - Blog API Export

This repository contains exported blog data and media files from the MLA Brand Django website for use with Flutter mobile applications.

## 🏢 About MLA Brand
Static API export from Django blog system, optimized for mobile app consumption.

## 📊 Export Summary
- **Export Date**: 2025-07-01T21:59:26.624489
- **Total Posts**: 30
- **Published Posts**: 30
- **Total Images**: 0
- **Repository**: https://github.com/dmouli408/mla-brand.git

## 🔗 API Endpoints

### Posts Data
```
https://dmouli408.github.io/mla-brand/data/posts.json
```

### Summary Data
```
https://dmouli408.github.io/mla-brand/data/summary.json
```

### Flutter Config
```
https://dmouli408.github.io/mla-brand/data/flutter_config.json
```

## 📁 Directory Structure

```
├── data/
│   ├── posts.json          # All blog posts with full content
│   ├── summary.json        # Export metadata and statistics
│   └── flutter_config.json # Flutter app configuration
├── media/
│   ├── posts/             # Featured post images
│   ├── gallery/           # Post gallery images
│   └── ckeditor_uploads/  # Inline content images
├── _config.yml            # GitHub Pages configuration
├── _headers               # CORS headers for API access
├── .nojekyll              # Bypass Jekyll processing
└── README.md              # This documentation
```

## 🚀 Flutter Integration

### Basic Setup
```dart
class MlaBrandApiService {
  static const String baseUrl = 'https://dmouli408.github.io/mla-brand';
  static const String postsEndpoint = '$baseUrl/data/posts.json';
  static const String configEndpoint = '$baseUrl/data/flutter_config.json';
  
  Future<List<Post>> fetchPosts() async {
    final response = await http.get(Uri.parse(postsEndpoint));
    if (response.statusCode == 200) {
      final List<dynamic> data = json.decode(response.body);
      return data.map((json) => Post.fromJson(json)).toList();
    }
    throw Exception('Failed to load MLA Brand posts');
  }
}
```

### Image Loading
```dart
// Featured image
NetworkImage('https://dmouli408.github.io/mla-brand/media/posts/your-image.webp')

// Gallery images
NetworkImage('https://dmouli408.github.io/mla-brand/media/gallery/gallery-image.webp')

// Content images (from CKEditor)
NetworkImage('https://dmouli408.github.io/mla-brand/media/ckeditor_uploads/content-image.webp')
```

### Post Data Structure
```dart
class Post {
  final int id;
  final String title;
  final String slug;
  final String content;  // HTML content with updated image URLs
  final String? featuredImage;
  final List<GalleryImage> galleryImages;
  final Author author;
  final Category? category;
  final List<Tag> tags;
  final String status;
  final bool featured;
  final int views;
  final DateTime createdAt;
  final DateTime updatedAt;
  final String metaTitle;
  final String metaDescription;
  final String metaKeywords;
  
  // ... fromJson constructor
}
```

## 🔄 Auto-Update
This export is generated automatically from the Django management command:
```bash
python manage.py export_posts_to_json --copy-images --published-only
```

## 📱 Mobile App Features Supported
- ✅ Complete post content with HTML
- ✅ Featured images optimized for mobile
- ✅ Gallery images with captions
- ✅ Author and category information
- ✅ Tags and SEO metadata
- ✅ CORS-enabled API endpoints
- ✅ WebP image format for performance

---
**Last Updated**: 2025-07-01T21:59:26.624489  
**Generated by**: Django Export Management Command  
**Repository**: https://github.com/dmouli408/mla-brand.git
